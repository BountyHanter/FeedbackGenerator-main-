# Проблемы в текущей реализации

### **1. Несогласованность API-ответов**
На данный момент микросервисы возвращают данные в разных форматах, что делает повторное использование кода затруднительным. Например:

  - Один микросервис при отсутствии отзывов возвращает `404 Not Found`, другой — `200 OK` с пустым списком.
  - Разные микросервисы используют разные структуры JSON-ответов.
  - Форматы ошибок не унифицированы: в одном микросервисе ошибки возвращаются в одном формате, в другом — в другом.

Из-за этого сложно писать универсальный код для обработки API, так как каждый микросервис требует индивидуального подхода.

### **2. Усложнённая логика функций**
Функции, особенно в микросервисах, содержат слишком много логики, что затрудняет их понимание и поддержку. На этапе написания они казались логичными, но со временем стало сложно разбираться в их работе.

Основные проблемы:

- Функции перегружены логикой, что снижает их читаемость.
- Отсутствует чёткая абстракция, из-за чего сложно выделить повторяющиеся части кода.
- Для каждого нового микросервиса приходится дублировать код, вместо того чтобы использовать готовые решения.

### **3. Разные стили ответов эндпоинтов**
Кроме разницы в кодах ответов (`404` vs `200`), существуют и другие несогласованности:

- В одних микросервисах данные упакованы в объект `{"data": [...]}`, в других возвращаются как просто `[...]`.
- Некоторые эндпоинты возвращают дополнительные метаданные (`count`, `next_page` и т. д.), другие просто список объектов.
- Разные механизмы обработки ошибок: где-то используется `{"error": "описание ошибки"}`, где-то возвращается только HTTP-код.

### **4. Проблемы с абстракцией и расширяемостью**
Так как микросервисы разрабатывались постепенно, не была заложена унифицированная архитектура. В результате:

- Добавление новых микросервисов требует значительных изменений в коде.
- Отсутствует централизованная логика обработки API-ответов, что приводит к дублированию кода.
- Код сложно переиспользовать для новых сервисов, так как каждый работает немного по-своему.

### **Что нужно исправить?**
1. Унифицировать форматы ответов API.
2. Разделить сложные функции на более мелкие, упрощая их понимание.
3. Внедрить единую систему обработки ошибок.
4. Создать общий слой абстракции, чтобы легко подключать новые микросервисы.

Так как у меня нету опыта в этом то я надеюсь получить информацию и наставление о том как это сделать